<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario de registro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>

<body class="d-flex flex-column justify-content-center min-vh-100">
  <main class="container">
    <div class="card shadow-sm">
      <div class="card-header bg-dark text-white d-flex align-items-center justify-content-between">
        <h4 class="mb-0">Registro de Mascota</h4>
        <a href="/" class="btn btn-light btn-sm">
          <i class="bi bi-arrow-left"><span class="ms-1">Inicio</span></i>
        </a>
      </div>
      <div class="card-body">
        <p class="text-muted small mb-4">
          Los campos marcados con <span class="text-danger">*</span> son obligatorios.
        </p>

        <form action="/form" method="POST">

          <!-- Nombre -->
          <div class="mb-3">
            <label for="nombre" class="form-label">Nombre de la mascota *</label>
            <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Ej. DAW Patrol"
              value="<%= nombre || '' %>" required>
            <div class="invalid-feedback">Introduce un nombre válido (mínimo 2 caracteres).</div>
          </div>

          <!-- Edad -->
          <div class="mb-3">
            <label for="edad" class="form-label">Edad *</label>
            <input type="number" class="form-control" id="edad" name="edad" placeholder="Ej. 3"
              value="<%= edad || '' %>" required>
            <div class="invalid-feedback">La edad debe ser mayor o igual a 0.</div>
          </div>

          <!-- Tipo de animal -->
          <div class="mb-3">
            <label for="tipo" class="form-label">Tipo de animal *</label>
            <select id="tipo" name="tipo" class="form-select" required>
              <option value="">Selecciona...</option>
              <option <%=tipo==="Perro" ? "selected" : '' %>>Perro</option>
              <option <%=tipo==="Gato" ? "selected" : '' %>>Gato</option>
              <option <%=tipo==="Ave" ? "selected" : '' %>>Ave</option>
              <option <%=tipo==="Otro" ? "selected" : '' %>>Otro</option>
            </select>
            <div class="invalid-feedback">Selecciona un tipo de animal.</div>
          </div>

          <!-- Tamaño -->
          <div class="mb-3">
            <label class="form-label">Tamaño *</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="tamano" id="pequeno" value="Pequeño"
                  <%=tamano==="Pequeño" ? "checked" : "" %> required>
                <label class="form-check-label" for="pequeno">Pequeño</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="tamano" id="mediano" value="Mediano"
                  <%=tamano==="Mediano" ? "checked" : "" %> >
                <label class="form-check-label" for="mediano">Mediano</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="tamano" id="grande" value="Grande"
                  <%=tamano==="Grande" ? "checked" : "" %> >
                <label class="form-check-label" for="grande">Grande</label>
              </div>
            </div>
            <div class="invalid-feedback d-block">Selecciona un tamaño.</div>
          </div>

          <!-- Actividades favoritas -->
          <div class="mb-3">
            <label class="form-label">Actividades favoritas (opcional)</label>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="Correr" id="correr" name="actividades"
                <%=(actividades || []).includes('Correr') ? "checked" : '' %> >
              <label class="form-check-label" for="correr">Correr</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="Dormir" id="dormir" name="actividades"
                <%=(actividades || []).includes('Dormir') ? "checked" : '' %> >
              <label class="form-check-label" for="dormir">Dormir</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="Jugar" id="jugar" name="actividades"
                <%=(actividades || []).includes('Jugar') ? "checked" : '' %> >
              <label class="form-check-label" for="jugar">Jugar</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="Comer" id="comer" name="actividades"
                <%=(actividades || []).includes('Comer') ? "checked" : '' %> >
              <label class="form-check-label" for="comer">Comer</label>
            </div>
          </div>

          <!-- Botón -->
          <div class="text-center">
            <button type="submit" class="btn btn-danger">Enviar</button>
          </div>

        </form>


        <% if (errores && errores.length> 0) { %>
          <div class="alert alert-danger m-0 mt-3">
            <ul class="m-0">
              <% errores.forEach(error=> { %>
                <li>
                  <%= error %>
                </li>
                <% }) %>
            </ul>
          </div>
          <% } %>

      </div>

    </div>
  </main>
  <footer class="footer bg-dark text-white text-center py-3 mt-auto fixed-bottom">
    <small class="mb-0">@2025 Alberto Sancho (2º DAW) - Ejercicio de práctica con Node.js + Express + EJS</small>
  </footer>

</body>

</html>